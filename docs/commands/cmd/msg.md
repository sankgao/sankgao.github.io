---
title: msg
icon: command
date: 2024-07-22
category: 命令集
tag:
    - CMD
---

## 描述

`msg` 用于向远程桌面会话主机服务器上的用户发送消息。

## 选项

|  选项  |  描述  |
|  :----:  |  :----  |
|  `<username>`  |  指定要接收消息的用户的名称。如果未指定用户或会话，此命令将显示错误消息。指定会话时，它必须处于活动状态  |
|  `<sessionname>`  |  指定要接收消息的会话的名称。如果未指定用户或会话，此命令将显示错误消息。指定会话时，它必须处于活动状态  |
|  `<sessionID>`  |  指定要接收消息的用户的会话的数字 ID  |
|  `@<filename>`  |  标识包含要接收消息的用户名、会话名称和会话 ID 列表的文件  |
|  `*`  |  将消息发送到系统中的所有用户名  |
|  `/server:<servername>`  |  指定要接收消息的会话或用户的远程桌面会话主机服务器。如果未指定，`/server` 将使用当前登录到的服务器  |
|  `/time:<seconds>`  |  指定发送的消息在用户屏幕上显示的时长。达到时间限制后，消息将消失。如果未设置时间限制，则消息默认显示 60 秒后消失  |
|  `/v`  |  显示有关正在执行的操作的信息  |
|  `/W`  |  等待用户确认已收到消息。将此参数与 `/time:<*seconds*>` 一起使用，可避免在用户未立即响应时可能出现的长时间延迟。此外，将此参数与 `/v` 一起使用也非常有用  |
|  `<message>`  |  指定要发送的消息的文本。如果未指定消息，系统会提示输入消息。若要发送文件中所包含的消息，请键入小于符号（`<`），后跟文件名  |
|  `/?`  |  在命令提示符下显示帮助  |

## 示例

### 发送到指定用户

例如：将标题为 “下午 5:30 点开会” 的消息发送到 User1 用户。

```cmd
C:\Users\user>msg User1 "Let's meet at 5:30PM today"

C:\Users\user>
```

### 发送到指定会话

例如：将标题为 “下午 5:30 点开会” 的消息发送到 modeM02 会话。

```cmd
C:\Users\user>msg modeM02 "Let's meet at 5:30PM today"

C:\Users\user>
```

例如：将标题为 “下午 5:30 点开会” 的消息发送到 `userlist` 文件中包含的所以会话。

```cmd
C:\Users\user>msg @userlist "Let's meet at 5:30PM today"

C:\Users\user>
```

### 指定超时时间

例如：将标题为 “下午 5:30 点开会” 的消息发送给所有用户，并设置确认超时 `10` 秒。

```cmd
C:\Users\user>msg * /time:10 "Let's meet at 5:30PM today"

C:\Users\user>
```
