---
title: git commit
icon: command
date: 2024-05-08
category: About
tag:
    - 命令
    - Git
---

## 描述

`git commit` 用于将暂存区（也称为索引或缓存区）中的文件更改提交到本地仓库，并为这次提交添加一个描述性的信息，以便记录您所做的更改内容。

每个提交都包含了一个唯一的标识符、提交者的信息、提交时间戳和提交信息，以及文件更改的详细信息。

## 选项

|  选项  |  描述  |
|  :----:  |  :----  |
|  `-m "messages"`  |  使用给定的 `"messages"` 作为提交信息  |
|  `-a`  |  `-a` 选项相当于 `git add -A` 命令（将所有 **已跟踪的文件** 提交到暂存区）  |
|  `--amend`  |  通过创建一个新的提交来修改最后一次提交信息，通常与 `-m` 选项一起使用  |
|  `--author="username <username@example.com>"`  |  设置提交者的姓名和邮箱地址  |
|  `-C <commit>, --reuse-message=<commit>`  |  取一个现有的提交对象，并在创建提交时重新使用日志信息和作者信息（包括时间戳）  |
|  `-c <commit>, --reedit-message=<commit>`  |  和 `-C` 一样，但用 `-c` 会调用编辑器，这样用户可以进一步编辑提交信息  |
|  `--allow-empty`  |  生成空提交  |
|  `--no-edit`  |  不改变提交信息  |
|  `-q, --quiet`  |  不显示输出内容  |
|  `-v, --verbose`  |  将 `git diff` 输出呈现在编辑器中  |

## 示例

### 提交到本地仓库

例如：在编辑器中提交。

```shell
git commit
```

例如：使用 `-v` 选项，在提交信息模板的底部显示 HEAD 提交和将要提交的内容之间的统一差异，通过提醒提交有哪些变化来帮助用户描述提交。这个差异输出的行数不会以 `#` 为前缀，且这个差异不会成为提交信息的一部分。如果指定了两次 `-v` 选项，则另外显示将被提交的文件和工作区文件之间的统一差异，即对已跟踪文件的非阶段性修改。

```shell
git commit -v
```

### 提交时添加信息

例如：使用 `-m` 选项，后跟一条信息来提交暂存区的更改。

```shell
git commit -m "提交信息"
```

例如：给定多个 `-m` 选项，第一个 `-m` 值为 **标题行**，后面的 `-m` 值为单独段落串联起来的提交信息。

```shell
git commit -m "标题行" -m "第一行提交信息" -m "第二行提交信息"
```

### 提交时省略 git add

例如：使用 `-a` 选项，来提交所有已跟踪文件的更改，即使它们没有被添加（[git add](./git_add.md)）到暂存区。

```shell
git commit -a -m "提交信息"
# 或
git commit -am "提交信息"
```

### 修改最后一次提交信息

例如：使用 `--amend` 选项，可以修改最后一次提交，而不需要先撤销该提交。

```shell
git commit --amend -m "新的提交信息"
```

### 设置提交者信息

例如：使用 `--author` 选项，在提交到本地仓库时设置新的提交者姓名和邮箱地址。

```shell
git commit --author="username <username@example.com>" -m "提交信息"
```

::: tip
在输入邮箱地址时，包括一对尖括号（`<>`）。
:::
