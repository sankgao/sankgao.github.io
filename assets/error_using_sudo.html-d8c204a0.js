import{_ as s,W as a,X as n,Y as e}from"./framework-6ce913bb.js";const o={},t=e(`<h2 id="linux-普通用户使用-sudo-时报错" tabindex="-1"><a class="header-anchor" href="#linux-普通用户使用-sudo-时报错" aria-hidden="true">#</a> Linux 普通用户使用 sudo 时报错</h2><p>Linux 普通用户执行 sudo 命令时，提示：<code>sudo: no tty present and no askpass program specified</code>，原因是默认新建的用户不在 sudo 组，没有开启免密，需要编辑 <code>/etc/sudoers</code> 文件将用户或用户组加入。</p><p>解决方法：</p><p>切换到 root 用户，执行命令 <code>visudo</code> 或者 <code>vim /etc/sudoers</code>，打开 <code>sudoers</code> 文件，在最下面一行添加</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>build-admin <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL:ALL<span class="token punctuation">)</span> NOPASSWD:ALL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>再输入 <code>:wq!</code> 保存</p><h2 id="sudoers" tabindex="-1"><a class="header-anchor" href="#sudoers" aria-hidden="true">#</a> sudoers</h2><p>sudoers 文件是用于指定特定用户或用户组像 root 用户一样使用各种各样的命令，而不需要输入 root 用户密码，语法格式：<code>user MACHINE=COMMANDS</code> （用户 主机地址=（可以变换的身份） 可以执行的命令）。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>省略部分内容
root    <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL    <span class="token comment"># 允许 root 用户执行任意路径下的任意命令</span>
%wheel        <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL    <span class="token comment"># 允许 wheel 用户组中的用户执行所有命令</span>
%wheel        <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       NOPASSWD: ALL    <span class="token comment"># 允许 wheel 用户组中的用户在不输入该用户的密码的情况下使用所有命令</span>
%sudo   <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL:ALL<span class="token punctuation">)</span> NOPASSWD:ALL    <span class="token comment"># 允许 sudo 用户组中的用户执行所有命令，且不需要输入用户密码</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>%sudo   <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL:ALL<span class="token punctuation">)</span> NOPASSWD:ALL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>第一段：用户名或者用户组，表示谁有权限来使用后面的配置。<code>%sudo</code> 代表 sudo 组下的所有用户</li><li>第二段：表示来源地，即从哪执行这条命令。<code>ALL</code> 表示所有计算机</li><li>第三段：表示 sudo 可以切换到什么用户。<code>ALL</code> 表示所有用户</li><li>第四段：表示 sudo 可以切换到哪些组下的用户。<code>ALL</code> 表示所有组</li><li>第五段：表示 sudo 之后能够执行的命令。<code>NOPASSWD:ALL</code> 表示执行任意命令都不需要输入用户密码</li></ul>`,11),c=[t];function d(i,l){return a(),n("div",null,c)}const u=s(o,[["render",d],["__file","error_using_sudo.html.vue"]]);export{u as default};
