import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as d,c as i,f as c}from"./app-yqwln4NR.js";const o={},a=c(`<h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题</h2><p>在 VSCode 中，使用 <code>git add</code> 命令时，出现以下错误：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>warning: LF will be replaced by CRLF in test1<span class="token punctuation">.</span>txt<span class="token punctuation">.</span> The file will have its original line endings in working directory
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="原因" tabindex="-1"><a class="header-anchor" href="#原因" aria-hidden="true">#</a> 原因</h2><p>在 Windows 平台编辑过的代码文本的换行默认都是 CRLF，所以一般 <code>git add</code> 不会出错。但是如果发生以下两种情况，那再进行 <code>git add</code> 这个 LF 换行的文件时，会出现这个警告 <code>LF will be replaced by CRLF in …</code>。</p><ul><li>有人使用 Linux/Mac 平台并参与了项目的 git 提交</li><li>Windows 平台的某些软件会生成换行是 LF 的代码文本</li></ul><h2 id="解决方法" tabindex="-1"><a class="header-anchor" href="#解决方法" aria-hidden="true">#</a> 解决方法</h2><h3 id="window-平台出现该警告" tabindex="-1"><a class="header-anchor" href="#window-平台出现该警告" aria-hidden="true">#</a> Window 平台出现该警告</h3><p>如果是 Window 平台出现该警告，啥也别做就行，虽然这个警告难看，但这个警告能保证我们项目团队正常跨系统 <code>git</code> 操作代码。</p><p>因为 Git 的 Windows 客户端基本都会默认设置 <code>core.autocrlf=true</code>（通过 <code>git config core.autocrlf</code> 命令查询 Windows 上该属性是否默认 <code>true</code>。如不是 <code>true</code>，执行 <code>config --global core.autocrlf true</code> 命令设置该属性为 <code>true</code>），而 <code>core.autocrlf=true</code> 有以下三个功能来避免我们出错：</p><ul><li>在 “把 modified 修改过的文件 <code>git add</code> 到暂存区” 时，Git 自动把 LF 转换成 CRLF，并给出那条警告 <code>LF will be replaced by CRLF</code></li><li>在 “把 modified 修改过的文件由暂存区提交到版本库/仓库” 时，Git 自动把 CRLF 转换成 LF</li><li>在 “用 检出/<code>git checkout</code> 切换到指定分支或克隆远程版本库” 来加载代码时，Git 自动把 LF 转换成 CRLF</li></ul><h3 id="linux-或-mac-平台出现该警告" tabindex="-1"><a class="header-anchor" href="#linux-或-mac-平台出现该警告" aria-hidden="true">#</a> Linux 或 Mac 平台出现该警告</h3><p>如果是 Linux 或 Mac 平台，当一个 CRLF 作为行结束符的文件出现在 Linux 或 Mac 平台中，可以通过执行 <code>config --global core.autocrlf input</code> 命令把 <code>core.autocrlf</code> 设置成 <code>input</code> 来告诉 Git 在提交时把 CRLF 转换成 LF，检出时不转换。</p><p>这样在 Windows 上的检出文件中会保留 CRLF，而在 Mac 和 Linux 上，以及版本库中会保留 LF，从而保证我们项目团队正常跨系统 <code>git</code> 操作代码。</p>`,14),l=[a];function n(r,t){return d(),i("div",null,l)}const h=e(o,[["render",n],["__file","lf_will_be_replaced_by_crlf.html.vue"]]);export{h as default};
