import{_ as t,r as p,o as e,c as o,d as n,e as s,b as c,f as l}from"./app-48b2e2e2.js";const i={},u=n("h2",{id:"初始-pygame",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#初始-pygame","aria-hidden":"true"},"#"),s(" 初始 Pygame")],-1),k=n("p",null,"Pygame 是跨平台的 Python 模块，专为电子游戏设计（包含图像、声音），创建在 SDL（Simple DirectMedia Layer）基础上，允许实时电子游戏研发而不被低级语言（如：汇编语言）束缚，基于这一设想，所有需要的游戏功能和理念（主要是图像方面）都完全简化为游戏逻辑本身，所有的资源结构都可以由高级语言（如：python）提供。",-1),r=n("h3",{id:"安装-pygame",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安装-pygame","aria-hidden":"true"},"#"),s(" 安装 Pygame")],-1),d={href:"https://www.pygame.org",target:"_blank",rel:"noopener noreferrer"},m=l(`<p>使用 pip 命令安装 Pygame 库：<code>pip install pygame</code>。</p><h3 id="pygame-常用模块" tabindex="-1"><a class="header-anchor" href="#pygame-常用模块" aria-hidden="true">#</a> Pygame 常用模块</h3><p>使用 Pygame 做游戏开发的优势在于不需要过多考虑与底层开发相关的内容，而可以把工作重心放在游戏逻辑上。例如：Pygame 中集成了很多和底层开发相关的模块，如：访问显示设备、管理事件、使用字体等。</p><p><strong>Pygame 常用模块如下：</strong></p><table><thead><tr><th style="text-align:center;">模块名</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>pygame.cdrom</strong></td><td style="text-align:left;">访问光驱</td></tr><tr><td style="text-align:center;"><strong>pygame.cursors</strong></td><td style="text-align:left;">加载光标</td></tr><tr><td style="text-align:center;"><strong>pygame.display</strong></td><td style="text-align:left;">访问显示设备</td></tr><tr><td style="text-align:center;"><strong>pygame.draw</strong></td><td style="text-align:left;">绘制形状、线和点</td></tr><tr><td style="text-align:center;"><strong>pygame.event</strong></td><td style="text-align:left;">管理事件</td></tr><tr><td style="text-align:center;"><strong>pygame.font</strong></td><td style="text-align:left;">使用字体</td></tr><tr><td style="text-align:center;"><strong>pygame.image</strong></td><td style="text-align:left;">加载和存储图片</td></tr><tr><td style="text-align:center;"><strong>pygame.joystick</strong></td><td style="text-align:left;">使用游戏手柄或者类似的东西</td></tr><tr><td style="text-align:center;"><strong>pygame.key</strong></td><td style="text-align:left;">读取键盘按键</td></tr><tr><td style="text-align:center;"><strong>pygame.mixer</strong></td><td style="text-align:left;">声音</td></tr><tr><td style="text-align:center;"><strong>pygame.mouse</strong></td><td style="text-align:left;">鼠标</td></tr><tr><td style="text-align:center;"><strong>pygame.movie</strong></td><td style="text-align:left;">播放视频</td></tr><tr><td style="text-align:center;"><strong>pygame.music</strong></td><td style="text-align:left;">播放音频</td></tr><tr><td style="text-align:center;"><strong>pygame.overlay</strong></td><td style="text-align:left;">访问高级视频叠加</td></tr><tr><td style="text-align:center;"><strong>pygame.rect</strong></td><td style="text-align:left;">管理矩形区域</td></tr><tr><td style="text-align:center;"><strong>pygame.sndarray</strong></td><td style="text-align:left;">操作声音数据</td></tr><tr><td style="text-align:center;"><strong>pygame.sprite</strong></td><td style="text-align:left;">操作移动图像</td></tr><tr><td style="text-align:center;"><strong>pygame.surface</strong></td><td style="text-align:left;">管理图像和屏幕</td></tr><tr><td style="text-align:center;"><strong>pygame.surfarray</strong></td><td style="text-align:left;">管理点阵图像数据</td></tr><tr><td style="text-align:center;"><strong>pygame.time</strong></td><td style="text-align:left;">管理时间和帧信息</td></tr><tr><td style="text-align:center;"><strong>pygame.trasform</strong></td><td style="text-align:left;">缩放和移动图像</td></tr></tbody></table><p>使用 pygame 的 <code>display</code> 和 <code>event</code> 模块创建一个 Pygame 窗口。例如：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token comment"># 初始化 pygame</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 设置窗口</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">240</span>
<span class="token comment"># 显示窗口</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>

<span class="token comment"># 执行循环，确保窗口一直显示</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token comment"># 遍历所有事件</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果单击关闭窗口，则退出</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 退出 pygame</span>
pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pygame-的基本应用" tabindex="-1"><a class="header-anchor" href="#pygame-的基本应用" aria-hidden="true">#</a> Pygame 的基本应用</h2><h3 id="制作一个跳跃的小球游戏" tabindex="-1"><a class="header-anchor" href="#制作一个跳跃的小球游戏" aria-hidden="true">#</a> 制作一个跳跃的小球游戏</h3><p>创建一个游戏窗口，然后在窗口内创建一个小球，以一定的速度移动小球，当小球碰到游戏窗口的边缘时，小球弹回，继续移动。例如：</p><ol><li><p>创建一个游戏窗口</p><p>宽和高设置为 <code>640 * 480</code></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token comment"># 初始化 pygame</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 设置窗口</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>
<span class="token comment"># 显示窗口</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码，首先导入 pygame 模块，然后调用 <code>init()</code> 方法初始化 pygame 模块，再设置窗口的宽和高，最后使用 <code>display</code> 模块显示窗体。</p><p><strong>display 模块的常用方法如下：</strong></p><table><thead><tr><th style="text-align:center;">方法名</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>pygame.display.init</strong></td><td style="text-align:left;">初始化 display 模块</td></tr><tr><td style="text-align:center;"><strong>pygame.display.quit</strong></td><td style="text-align:left;">结束 display 模块</td></tr><tr><td style="text-align:center;"><strong>pygame.display.get_init</strong></td><td style="text-align:left;">如果 display 模块已经被初始化，则返回 True</td></tr><tr><td style="text-align:center;"><strong>pygame.display.set_mode</strong></td><td style="text-align:left;">初始化一个准备显示的界面</td></tr><tr><td style="text-align:center;"><strong>pygame.display.get_surface</strong></td><td style="text-align:left;">获取当前的 Surface 对象</td></tr><tr><td style="text-align:center;"><strong>pygame.display.flip</strong></td><td style="text-align:left;">更新整个待显示的 Surface 对象到屏幕上</td></tr><tr><td style="text-align:center;"><strong>pygame.display.update</strong></td><td style="text-align:left;">更新部分内容显示到屏幕上，如果没有参数，则于 flip 功能相同</td></tr></tbody></table></li><li><p>执行循环，确保窗口一直显示，并设置关闭按钮</p><p>运行上述代码后，会出现一个一闪而过的黑色窗口，这是因为程序执行完成，会自动关闭。如果想让窗口一直显示，需要使用 <code>while True</code> 语句让程序一直执行，此外，还需要设置关闭按钮。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token comment"># 初始化 pygame</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 设置窗口</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>
<span class="token comment"># 显示窗口</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>

<span class="token comment"># 执行循环，确保窗口一直显示</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果单击关闭窗口，则退出</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 退出 pygame</span>
pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码中，添加了轮询事件检测。<code>pygame.event.get()</code> 能够获取事件队列，使用 <code>for···in</code> 遍历事件，然后根据 <code>type</code> 属性判断事件类型。这里的事件处理方法于 GUI 类似，如 <code>event.type == pygame.QUIT</code> 表示检测关闭 pygame 窗口事件，<code>pygame.KEYDOWN</code> 表示键盘按下事件，<code>pygame.MOUSEBUTONDOWN</code> 表示鼠标按下事件等。</p></li><li><p>在窗口中添加小球</p><p>先准备好一张 <code>ball.png</code> 图片，然后加载该图片，最后将图片显示在窗口中。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token comment"># 初始化 pygame</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 设置窗口</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>
<span class="token comment"># 显示窗口</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
<span class="token comment"># 设置颜色</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 加载图片</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&quot;images/ball.png&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 获取矩形区域</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 执行循环，确保窗口一直显示</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果单击关闭窗口，则退出</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token comment"># 将图片画到窗口上</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>
    <span class="token comment"># 更新全部显示</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 退出 pygame</span>
pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码中，使用 image 模块的 <code>load()</code> 方法加载图片，返回值 <code>ball</code> 是一个 Surface 对象，<code>Surface</code> 是用来代表图片的 <code>pygame</code> 对象，可以对一个 Surface 对象进行涂画、变形、复制等各种操作。事实上，屏幕也只是一个 surface，<code>pygame.display.set_mode</code> 就返回一个屏幕 Surface 对象。如果将 ball 这个 Surface 对象画到 sureen Surface 对象，需要使用 <code>blit()</code> 方法，最后使用 display 模块的 <code>flip()</code> 方法更新整个待显示的 Surface 对象到屏幕上。</p><p><strong>Surface 对象的常用方法如下：</strong></p><table><thead><tr><th style="text-align:center;">方法名</th><th style="text-align:left;">功能</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>pygame.Surface.blit</strong></td><td style="text-align:left;">将一个图像画到另一个图像上</td></tr><tr><td style="text-align:center;"><strong>pygame.Surface.convert</strong></td><td style="text-align:left;">转换图像的像素格式</td></tr><tr><td style="text-align:center;"><strong>pygame.Surface.convert_alpha</strong></td><td style="text-align:left;">转换图像的像素格式，包含 alpha 通道的转换</td></tr><tr><td style="text-align:center;"><strong>pygame.Surface.fill</strong></td><td style="text-align:left;">使用颜色填充 Surface</td></tr><tr><td style="text-align:center;"><strong>pygame.Surface.get_rect</strong></td><td style="text-align:left;">获取 Surface 的矩形区域</td></tr></tbody></table></li><li><p>让小球动起来</p><p><code>ball.get_rect()</code> 方法返回值 <code>ballrect</code> 是一个 Rect 对象，该对象有一个 <code>move()</code> 方法可以用于移动矩形。<code>move(x, y)</code> 函数有两个参数，第一个参数是 <code>X</code> 轴移动的距离，第二个参数是 <code>Y</code> 轴移动的距离，窗体左上角坐标为 <code>0, 0</code>。为了实现小球不停移动，将 <code>move()</code> 函数添加到 <code>while</code> 循环内。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token comment"># 初始化 pygame</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 设置窗口</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>
<span class="token comment"># 显示窗口</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
<span class="token comment"># 设置颜色</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 加载图片</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&quot;images/ball.png&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 获取矩形区域</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 设置移动的 X、Y 轴距离</span>
speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

<span class="token comment"># 执行循环，确保窗口一直显示</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果单击关闭窗口，则退出</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 移动小球</span>
    ballrect <span class="token operator">=</span> ballrect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>speed<span class="token punctuation">)</span>
    <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token comment"># 将图片画到窗口上</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>
    <span class="token comment"># 更新全部显示</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 退出 pygame</span>
pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>当小球与窗体任意边缘发送碰撞，则更改小球的移动方向</p><p>运行上述代码，发现小球在屏幕中一闪而过，此时小球并没有真正消失，而是移动到窗体之外，此时需要添加碰撞检测的功能。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token comment"># 初始化 pygame</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 设置窗口</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>
<span class="token comment"># 显示窗口</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
<span class="token comment"># 设置颜色</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 加载图片</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&quot;images/ball.png&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 获取矩形区域</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 设置移动的 X、Y 轴距离</span>
speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

<span class="token comment"># 执行循环，确保窗口一直显示</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果单击关闭窗口，则退出</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 移动小球</span>
    ballrect <span class="token operator">=</span> ballrect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>speed<span class="token punctuation">)</span>

    <span class="token comment"># 碰到左右边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>left <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> ballrect<span class="token punctuation">.</span>right <span class="token operator">&gt;</span> width<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    
    <span class="token comment"># 碰到上下边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>top <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> ballrect<span class="token punctuation">.</span>bottom <span class="token operator">&gt;</span> height<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    
    <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token comment"># 将图片画到窗口上</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>
    <span class="token comment"># 更新全部显示</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 退出 pygame</span>
pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码中，添加了碰撞检测功能。如果碰到左右边缘，更改 X 轴数据为负数；如果碰到上下边缘，更改 Y 轴数据为负数。</p></li><li><p>设置运行时间</p><p>运行上述代码发现好像多个小球在飞快移动，这是因为运行代码的时间非常短导致的。这时就需要使用 Pygame 的 <code>time</code> 模块，使用 Pygame 时钟之前，必须先创建 Clock 对象的一个实例，然后在 while 循环中设置多长时间运行一次。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token comment"># 初始化 pygame</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 设置窗口</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>
<span class="token comment"># 显示窗口</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>
<span class="token comment"># 设置颜色</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 加载图片</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&quot;images/ball.png&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 获取矩形区域</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 设置移动的 X、Y 轴距离</span>
speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment"># 设置时钟</span>
clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 执行循环，确保窗口一直显示</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token comment"># 每秒执行 60 次</span>
    clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果单击关闭窗口，则退出</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 移动小球</span>
    ballrect <span class="token operator">=</span> ballrect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>speed<span class="token punctuation">)</span>

    <span class="token comment"># 碰到左右边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>left <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> ballrect<span class="token punctuation">.</span>right <span class="token operator">&gt;</span> width<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    
    <span class="token comment"># 碰到上下边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>top <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> ballrect<span class="token punctuation">.</span>bottom <span class="token operator">&gt;</span> height<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token comment"># 将图片画到窗口上</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>
    <span class="token comment"># 更新全部显示</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 退出 pygame</span>
pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完成小球的跳跃游戏。</p></li></ol><h2 id="开发-flappy-bird-游戏" tabindex="-1"><a class="header-anchor" href="#开发-flappy-bird-游戏" aria-hidden="true">#</a> 开发 Flappy Bird 游戏</h2><h3 id="游戏简介" tabindex="-1"><a class="header-anchor" href="#游戏简介" aria-hidden="true">#</a> 游戏简介</h3><p>Flappy Bird 是一款鸟类飞行游戏，由越南河内独立游戏开发者阮哈东（Dong Nguyen）开发。这款游戏玩家需要用一根手指操作，通过单击触摸屏幕，小鸟就会向上飞；放松手指，则会快速下降。玩家要控制小鸟一直向前飞行，注意躲避途中高低不平的管子。每当小鸟飞过一组管道，玩家获得 1 分；如果小鸟碰到障碍物，则游戏结束。</p><h3 id="游戏分析" tabindex="-1"><a class="header-anchor" href="#游戏分析" aria-hidden="true">#</a> 游戏分析</h3><p>在 Flappy Bird 游戏中，主要有两个对象：小鸟和管道。可以创建 <code>Brid</code> 类和 <code>Pipeline</code> 类来分别表示这两个对象。</p><p>小鸟可以通过上下移动来躲避管道，所以在 <code>Brid</code> 类中创建一个 <code>birdUpdate()</code> 方法，实现小鸟的上下移动。</p><p>为了体现小鸟向前飞行的特征，可以让管道一直向左侧移动，所以在 <code>Pipeline</code> 类中也创建一个 <code>updatePipeline()</code> 方法，实现管道的向左移动。</p><p>此外，还创建了三个函数：<code>createMap()</code> 函数用于绘制地图；<code>checkDead()</code> 函数用于判断小鸟的生命状态；<code>getResult()</code> 函数用于获取最终分数。</p><p>最后在主逻辑中，实例化类并调用相关方法，实现相应功能。</p><h3 id="搭建主框架" tabindex="-1"><a class="header-anchor" href="#搭建主框架" aria-hidden="true">#</a> 搭建主框架</h3><p>先创建 Flappy Bird 游戏的两个主要对象类（小鸟和管道），然后创建一个绘制地图的函数 <code>createMap()</code>，最后在主逻辑中绘制背景图片。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame


<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个鸟类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">birdUpdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现小鸟的上下移动&quot;&quot;&quot;</span>
        <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Pipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个管道类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">updatePipeline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现管道的向左移动&quot;&quot;&quot;</span>
        <span class="token keyword">pass</span>


<span class="token keyword">def</span> <span class="token function">createMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义创建地图的方法&quot;&quot;&quot;</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填入到背景</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新显示</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;主程序&quot;&quot;&quot;</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化 pygame</span>
    size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">650</span>  <span class="token comment"># 设置窗口</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 设置时钟</span>

    Pipeline <span class="token operator">=</span> Pipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化管道类</span>
    Bird <span class="token operator">=</span> Bird<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化鸟类</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 执行循环，确保窗口一直显示</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>  <span class="token comment"># 每秒执行 60 次</span>

        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 轮询事件</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

        background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/backgroud.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
        createMap<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制地图</span>

    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出 pygame</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建小鸟类" tabindex="-1"><a class="header-anchor" href="#创建小鸟类" aria-hidden="true">#</a> 创建小鸟类</h3><p>该类需要初始化很多参数，所以定义一个 <code>__init__()</code> 方法，用来初始化各种参数，包括鸟飞行的几种状态、飞行的速度、跳跃的高度等。然后定义 <code>birdUpdate()</code> 方法，该方法用于实现小鸟的跳跃和坠落。然后在主逻辑的轮询事件中添加键盘按下事件或鼠标单击事件，如：按下鼠标，使小鸟上升。最后在 <code>createMap()</code> 方法中，显示小鸟的图像。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame


<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个鸟类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>birdRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟的矩形</span>
        <span class="token comment"># 定义鸟的三种状态列表</span>
        self<span class="token punctuation">.</span>birdStatus <span class="token operator">=</span> <span class="token punctuation">[</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-01.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-02.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-03.png&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 默认飞行状态</span>
        self<span class="token punctuation">.</span>birdX <span class="token operator">=</span> <span class="token number">120</span>  <span class="token comment"># 鸟所在的 X 轴坐标</span>
        self<span class="token punctuation">.</span>birdY <span class="token operator">=</span> <span class="token number">350</span>  <span class="token comment"># 鸟所在的 Y 轴坐标</span>
        self<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认情况下小鸟自动降落</span>
        self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃高度</span>
        self<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
        self<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认小鸟生命状态为活着</span>

    <span class="token keyword">def</span> <span class="token function">birdUpdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现小鸟的上下移动&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 小鸟跳跃</span>
            self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">-=</span> <span class="token number">1</span>  <span class="token comment"># 速度递减，上升越来越慢</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">-=</span> self<span class="token punctuation">.</span>jumpSpeed  <span class="token comment"># 鸟的 Y 坐标减小，小鸟上升</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 小鸟坠落</span>
            self<span class="token punctuation">.</span>gravity <span class="token operator">+=</span> <span class="token number">0.2</span>  <span class="token comment"># 重力递增，下降越来越快</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">+=</span> self<span class="token punctuation">.</span>gravity  <span class="token comment"># 鸟的 Y 坐标增加，小鸟下降</span>

        self<span class="token punctuation">.</span>birdRect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>birdY  <span class="token comment"># 更改 Y 轴位置</span>


<span class="token keyword">class</span> <span class="token class-name">Pipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个管道类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">updatePipeline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现管道的向左移动&quot;&quot;&quot;</span>
        <span class="token keyword">pass</span>


<span class="token keyword">def</span> <span class="token function">createMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义创建地图的方法&quot;&quot;&quot;</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填入到背景</span>

    <span class="token keyword">if</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>  <span class="token comment"># 显示小鸟，撞管道状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">elif</span> Bird<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 起飞状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">1</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdStatus<span class="token punctuation">[</span>Bird<span class="token punctuation">.</span>status<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdX<span class="token punctuation">,</span> Bird<span class="token punctuation">.</span>birdY<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置小鸟的坐标</span>
    Bird<span class="token punctuation">.</span>birdUpdate<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟移动</span>

    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新显示</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;主程序&quot;&quot;&quot;</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化 pygame</span>
    size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">650</span>  <span class="token comment"># 设置窗口</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 设置时钟</span>

    Pipeline <span class="token operator">=</span> Pipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化管道类</span>
    Bird <span class="token operator">=</span> Bird<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化鸟类</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 执行循环，确保窗口一直显示</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>  <span class="token comment"># 每秒执行 60 次</span>

        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 轮询事件</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN <span class="token keyword">or</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>
                Bird<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># 跳跃</span>
                Bird<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
                Bird<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃速度</span>

        background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/backgroud.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
        createMap<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制地图</span>

    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出 pygame</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码在 Bird 类中设置了 <code>birdStatus</code> 属性，该属性是一个鸟类图片的列表，显示鸟类三种飞行状态，根据小鸟的不同状态加载相应的图片。在 <code>buildUpdate()</code> 方法中，为了达到较好的动画效果，使 <code>jumpSpeed</code> 和 <code>gravity</code> 两个属性逐渐变化。</p><h3 id="创建管道类" tabindex="-1"><a class="header-anchor" href="#创建管道类" aria-hidden="true">#</a> 创建管道类</h3><p>创建管道类。在 <code>__init__()</code> 方法中初始化各种参数，包括设置管道的坐标，加载上下管道图片等。然后在 <code>updatePipline()</code> 方法中，定义管道向左移动的速度，并且当管道移除屏幕时，重新绘制下一组管道。最后在 <code>createMap()</code> 函数中显示管道。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame


<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个鸟类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>birdRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟的矩形</span>
        <span class="token comment"># 定义鸟的三种状态列表</span>
        self<span class="token punctuation">.</span>birdStatus <span class="token operator">=</span> <span class="token punctuation">[</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-01.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-02.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-03.png&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 默认飞行状态</span>
        self<span class="token punctuation">.</span>birdX <span class="token operator">=</span> <span class="token number">120</span>  <span class="token comment"># 鸟所在的 X 轴坐标</span>
        self<span class="token punctuation">.</span>birdY <span class="token operator">=</span> <span class="token number">350</span>  <span class="token comment"># 鸟所在的 Y 轴坐标</span>
        self<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认情况下小鸟自动降落</span>
        self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃高度</span>
        self<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
        self<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认小鸟生命状态为活着</span>

    <span class="token keyword">def</span> <span class="token function">birdUpdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现小鸟的上下移动&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 小鸟跳跃</span>
            self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">-=</span> <span class="token number">1</span>  <span class="token comment"># 速度递减，上升越来越慢</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">-=</span> self<span class="token punctuation">.</span>jumpSpeed  <span class="token comment"># 鸟的 Y 坐标减小，小鸟上升</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 小鸟坠落</span>
            self<span class="token punctuation">.</span>gravity <span class="token operator">+=</span> <span class="token number">0.2</span>  <span class="token comment"># 重力递增，下降越来越快</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">+=</span> self<span class="token punctuation">.</span>gravity  <span class="token comment"># 鸟的 Y 坐标增加，小鸟下降</span>

        self<span class="token punctuation">.</span>birdRect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>birdY  <span class="token comment"># 更改 Y 轴位置</span>


<span class="token keyword">class</span> <span class="token class-name">Pipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个管道类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>wallX <span class="token operator">=</span> <span class="token number">400</span>  <span class="token comment"># 管道在 X 轴坐标</span>
        self<span class="token punctuation">.</span>pineUp <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/pipeup.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载上管道图片</span>
        self<span class="token punctuation">.</span>pineDown <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/pipedown.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载下管道图片</span>

    <span class="token keyword">def</span> <span class="token function">updatePipeline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现管道的向左移动&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>wallX <span class="token operator">-=</span> <span class="token number">5</span>  <span class="token comment"># 管道 X 轴坐标递减，即管道向左移动</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>wallX <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">80</span><span class="token punctuation">:</span>  <span class="token comment"># 当管道运行到一定位置，即小鸟飞越管道，分数加 1，并且重置管道</span>
            self<span class="token punctuation">.</span>wallX <span class="token operator">=</span> <span class="token number">400</span>


<span class="token keyword">def</span> <span class="token function">createMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义创建地图的方法&quot;&quot;&quot;</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填入到背景</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 显示管道，上管道坐标位置</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 下管道坐标位置</span>
    Pipeline<span class="token punctuation">.</span>updatePipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 管道移动</span>

    <span class="token keyword">if</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>  <span class="token comment"># 显示小鸟，撞管道状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">elif</span> Bird<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 起飞状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">1</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdStatus<span class="token punctuation">[</span>Bird<span class="token punctuation">.</span>status<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdX<span class="token punctuation">,</span> Bird<span class="token punctuation">.</span>birdY<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置小鸟的坐标</span>
    Bird<span class="token punctuation">.</span>birdUpdate<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟移动</span>

    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新显示</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;主程序&quot;&quot;&quot;</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化 pygame</span>
    size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">650</span>  <span class="token comment"># 设置窗口</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 设置时钟</span>

    Pipeline <span class="token operator">=</span> Pipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化管道类</span>
    Bird <span class="token operator">=</span> Bird<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化鸟类</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 执行循环，确保窗口一直显示</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>  <span class="token comment"># 每秒执行 60 次</span>

        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 轮询事件</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN <span class="token keyword">or</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>
                Bird<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># 跳跃</span>
                Bird<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
                Bird<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃速度</span>

        background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/backgroud.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
        createMap<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制地图</span>
    
    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出 pygame</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码中，在 <code>createMap()</code> 函数内，设置先显示管道，再显示小鸟，这样做的目的是为了当小鸟与管道图像重合时，小鸟的图像显示在上层，而管道的图像显示在底层。</p><h3 id="计算得分" tabindex="-1"><a class="header-anchor" href="#计算得分" aria-hidden="true">#</a> 计算得分</h3><p>当小鸟飞过管道时，玩家得分加 <code>1</code>。这里对于飞过管道的逻辑做了简化处理：当管道移动到窗体左侧一定距离后，默认为小鸟飞过管道，使分数加 <code>1</code>，并显示在屏幕上。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> font


<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个鸟类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>birdRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟的矩形</span>
        <span class="token comment"># 定义鸟的三种状态列表</span>
        self<span class="token punctuation">.</span>birdStatus <span class="token operator">=</span> <span class="token punctuation">[</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-01.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-02.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-03.png&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 默认飞行状态</span>
        self<span class="token punctuation">.</span>birdX <span class="token operator">=</span> <span class="token number">120</span>  <span class="token comment"># 鸟所在的 X 轴坐标</span>
        self<span class="token punctuation">.</span>birdY <span class="token operator">=</span> <span class="token number">350</span>  <span class="token comment"># 鸟所在的 Y 轴坐标</span>
        self<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认情况下小鸟自动降落</span>
        self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃高度</span>
        self<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
        self<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认小鸟生命状态为活着</span>

    <span class="token keyword">def</span> <span class="token function">birdUpdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现小鸟的上下移动&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 小鸟跳跃</span>
            self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">-=</span> <span class="token number">1</span>  <span class="token comment"># 速度递减，上升越来越慢</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">-=</span> self<span class="token punctuation">.</span>jumpSpeed  <span class="token comment"># 鸟的 Y 坐标减小，小鸟上升</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 小鸟坠落</span>
            self<span class="token punctuation">.</span>gravity <span class="token operator">+=</span> <span class="token number">0.2</span>  <span class="token comment"># 重力递增，下降越来越快</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">+=</span> self<span class="token punctuation">.</span>gravity  <span class="token comment"># 鸟的 Y 坐标增加，小鸟下降</span>

        self<span class="token punctuation">.</span>birdRect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>birdY  <span class="token comment"># 更改 Y 轴位置</span>


<span class="token keyword">class</span> <span class="token class-name">Pipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个管道类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>wallX <span class="token operator">=</span> <span class="token number">400</span>  <span class="token comment"># 管道在 X 轴坐标</span>
        self<span class="token punctuation">.</span>pineUp <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/pipeup.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载上管道图片</span>
        self<span class="token punctuation">.</span>pineDown <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/pipedown.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载下管道图片</span>

    <span class="token keyword">def</span> <span class="token function">updatePipeline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现管道的向左移动&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>wallX <span class="token operator">-=</span> <span class="token number">5</span>  <span class="token comment"># 管道 X 轴坐标递减，即管道向左移动</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>wallX <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">:</span>  <span class="token comment"># 当管道运行到一定位置，即小鸟飞越管道，分数加 1，并且重置管道</span>
            <span class="token keyword">global</span> score
            score <span class="token operator">+=</span> <span class="token number">1</span>
            self<span class="token punctuation">.</span>wallX <span class="token operator">=</span> <span class="token number">400</span>


<span class="token keyword">def</span> <span class="token function">createMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义创建地图的方法&quot;&quot;&quot;</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填入到背景</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 显示管道，上管道坐标位置</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 下管道坐标位置</span>
    Pipeline<span class="token punctuation">.</span>updatePipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 管道移动</span>

    <span class="token keyword">if</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>  <span class="token comment"># 显示小鸟，撞管道状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">elif</span> Bird<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 起飞状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">1</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdStatus<span class="token punctuation">[</span>Bird<span class="token punctuation">.</span>status<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdX<span class="token punctuation">,</span> Bird<span class="token punctuation">.</span>birdY<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置小鸟的坐标</span>
    Bird<span class="token punctuation">.</span>birdUpdate<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟移动</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>font<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">&#39;Score&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新显示</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;主程序&quot;&quot;&quot;</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化 pygame</span>
    pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化字体</span>
    font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 设置默认字体和大小</span>
    size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">650</span>  <span class="token comment"># 设置窗口</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 设置时钟</span>

    Pipeline <span class="token operator">=</span> Pipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化管道类</span>
    Bird <span class="token operator">=</span> Bird<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化鸟类</span>
    score <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 初始化分数</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 执行循环，确保窗口一直显示</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>  <span class="token comment"># 每秒执行 60 次</span>

        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 轮询事件</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN <span class="token keyword">or</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>
                Bird<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># 跳跃</span>
                Bird<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
                Bird<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃速度</span>

        background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/backgroud.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
        createMap<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制地图</span>

    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出 pygame</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="碰撞检测" tabindex="-1"><a class="header-anchor" href="#碰撞检测" aria-hidden="true">#</a> 碰撞检测</h3><p>当小鸟与管道碰撞时，小鸟颜色变为灰色，游戏结束，并显示总分数。在 <code>checkDead()</code> 函数中通过 <code>pygame.Rect()</code> 可以分别获取小鸟的矩形区域对象和管道的矩形区域对象，该对象有一个 <code>colliderect()</code> 方法可以判断两个矩形区域是否相撞。如果相撞，设置 <code>Bird.dead</code> 属性为 <code>True</code>。此外，当小鸟飞出窗体时，也设置 <code>Bird.dead</code> 属性为 <code>True</code>。最后用两行文字显示游戏得分。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame

<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> font


<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个鸟类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>birdRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟的矩形</span>
        <span class="token comment"># 定义鸟的三种状态列表</span>
        self<span class="token punctuation">.</span>birdStatus <span class="token operator">=</span> <span class="token punctuation">[</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-01.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-02.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/bird-03.png&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 默认飞行状态</span>
        self<span class="token punctuation">.</span>birdX <span class="token operator">=</span> <span class="token number">120</span>  <span class="token comment"># 鸟所在的 X 轴坐标</span>
        self<span class="token punctuation">.</span>birdY <span class="token operator">=</span> <span class="token number">350</span>  <span class="token comment"># 鸟所在的 Y 轴坐标</span>
        self<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认情况下小鸟自动降落</span>
        self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃高度</span>
        self<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
        self<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 默认小鸟生命状态为活着</span>

    <span class="token keyword">def</span> <span class="token function">birdUpdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现小鸟的上下移动&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 小鸟跳跃</span>
            self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">-=</span> <span class="token number">1</span>  <span class="token comment"># 速度递减，上升越来越慢</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">-=</span> self<span class="token punctuation">.</span>jumpSpeed  <span class="token comment"># 鸟的 Y 坐标减小，小鸟上升</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 小鸟坠落</span>
            self<span class="token punctuation">.</span>gravity <span class="token operator">+=</span> <span class="token number">0.2</span>  <span class="token comment"># 重力递增，下降越来越快</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">+=</span> self<span class="token punctuation">.</span>gravity  <span class="token comment"># 鸟的 Y 坐标增加，小鸟下降</span>

        self<span class="token punctuation">.</span>birdRect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>birdY  <span class="token comment"># 更改 Y 轴位置</span>


<span class="token keyword">class</span> <span class="token class-name">Pipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一个管道类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义初始化方法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>wallX <span class="token operator">=</span> <span class="token number">400</span>  <span class="token comment"># 管道在 X 轴坐标</span>
        self<span class="token punctuation">.</span>pineUp <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/pipeup.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载上管道图片</span>
        self<span class="token punctuation">.</span>pineDown <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/pipedown.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载下管道图片</span>

    <span class="token keyword">def</span> <span class="token function">updatePipeline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;实现管道的向左移动&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>wallX <span class="token operator">-=</span> <span class="token number">5</span>  <span class="token comment"># 管道 X 轴坐标递减，即管道向左移动</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>wallX <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">80</span><span class="token punctuation">:</span>  <span class="token comment"># 当管道运行到一定位置，即小鸟飞越管道，分数加 1，并且重置管道</span>
            <span class="token keyword">global</span> score
            score <span class="token operator">+=</span> <span class="token number">1</span>
            self<span class="token punctuation">.</span>wallX <span class="token operator">=</span> <span class="token number">400</span>


<span class="token keyword">def</span> <span class="token function">createMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义创建地图的方法&quot;&quot;&quot;</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填入到背景</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 显示管道，上管道坐标位置</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 下管道坐标位置</span>
    Pipeline<span class="token punctuation">.</span>updatePipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 管道移动</span>

    <span class="token keyword">if</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>  <span class="token comment"># 显示小鸟，撞管道状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">elif</span> Bird<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>  <span class="token comment"># 起飞状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">1</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdStatus<span class="token punctuation">[</span>Bird<span class="token punctuation">.</span>status<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdX<span class="token punctuation">,</span> Bird<span class="token punctuation">.</span>birdY<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置小鸟的坐标</span>
    Bird<span class="token punctuation">.</span>birdUpdate<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟移动</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>font<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">&#39;Score&#39;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新显示</span>


<span class="token keyword">def</span> <span class="token function">checkDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 上方管子的矩形位置</span>
    upRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span>
        Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
        Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span>
        Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token comment"># 下方管子的矩形位置</span>
    downRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span>
        Pipeline<span class="token punctuation">.</span>wallX<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span>
        Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span>
        Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">if</span> upRect<span class="token punctuation">.</span>colliderect<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdRect<span class="token punctuation">)</span> <span class="token keyword">or</span> downRect<span class="token punctuation">.</span>colliderect<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdRect<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 检测小鸟与上下方管子是否碰撞</span>
        Bird<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">True</span>

    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token number">0</span> <span class="token operator">&lt;</span> Bird<span class="token punctuation">.</span>birdRect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> height<span class="token punctuation">:</span>  <span class="token comment"># 检测小鸟是否飞出上下边界</span>
        Bird<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>


<span class="token keyword">def</span> <span class="token function">getResutl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    final_text1 <span class="token operator">=</span> <span class="token string">&quot;Game Over&quot;</span>
    final_text2 <span class="token operator">=</span> <span class="token string">&quot;Your final score is：&quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span>
    ft1_font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">&quot;Arial&quot;</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第一行文字字体</span>
    ft1_surf <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>final_text1<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">242</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第一行文字颜色</span>
    ft2_font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">&quot;Arial&quot;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第二行文字字体</span>
    ft2_surf <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>final_text2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">253</span><span class="token punctuation">,</span> <span class="token number">177</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第二行文字颜色</span>

    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ft1_surf<span class="token punctuation">,</span> <span class="token punctuation">[</span>screen<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span> <span class="token operator">-</span> ft1_surf<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第一行文字显示位置</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ft2_surf<span class="token punctuation">,</span> <span class="token punctuation">[</span>screen<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span> <span class="token operator">-</span> ft2_surf<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第二行文字显示位置</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新整个待显示的 Surface 对象到屏幕上</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;主程序&quot;&quot;&quot;</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化 pygame</span>
    pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化字体</span>
    font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 设置默认字体和大小</span>
    size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">650</span>  <span class="token comment"># 设置窗口</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 设置时钟</span>

    Pipeline <span class="token operator">=</span> Pipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化管道类</span>
    Bird <span class="token operator">=</span> Bird<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 实例化鸟类</span>
    score <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 初始化分数</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 执行循环，确保窗口一直显示</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>  <span class="token comment"># 每秒执行 60 次</span>

        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 轮询事件</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN <span class="token keyword">or</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>
                Bird<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># 跳跃</span>
                Bird<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>  <span class="token comment"># 重力</span>
                Bird<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃速度</span>

        background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">&#39;images/backgroud.png&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>

        <span class="token keyword">if</span> checkDead<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 检测小鸟生命状态</span>
            getResutl<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 如果小鸟死亡，显示游戏总分数</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            createMap<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制地图</span>

    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出 pygame</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码的 <code>checkDead()</code> 方法中，<code>upRect.colliderect(Bird.birdRect)</code> 用于检测小鸟的矩形区域是否与上面的管道的矩形区域相撞，<code>colliderent()</code> 函数的参数是另一个矩形区域对象。</p>`,38);function v(b,g){const a=p("ExternalLinkIcon");return e(),o("div",null,[u,k,r,n("p",null,[s("Pygame 的官方网址是："),n("a",d,[s("https://www.pygame.org"),c(a)]),s("，在该网址中可以查找 Pygame 相关文档。")]),m])}const f=t(i,[["render",v],["__file","game.html.vue"]]);export{f as default};
