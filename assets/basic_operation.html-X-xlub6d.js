import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as s,c as a,f as n}from"./app-0caNEkpj.js";const i="/assets/settings-h3T1nj7A.jpg",r="/assets/full_name-xoGihzHm.jpg",d="/assets/time_format-shorgSK5.jpg",t="/assets/number-xUuH__iq.jpg",c="/assets/mail-huQawvcn.jpg",o="/assets/ssh_key-xfJMfOj5.jpg",l={},p=n('<h2 id="管理员配置" tabindex="-1"><a class="header-anchor" href="#管理员配置" aria-hidden="true">#</a> 管理员配置</h2><p>在 Gerrit web 页面，右上角点击 <em>用户名 -&gt; settings</em> 或直接点击 <em>⚙</em> 图标，进入用户设置页面。</p><figure><img src="'+i+'" alt="设置" tabindex="0" loading="lazy"><figcaption>设置</figcaption></figure><h3 id="添加全名" tabindex="-1"><a class="header-anchor" href="#添加全名" aria-hidden="true">#</a> 添加全名</h3><p>在 <code>Profile</code> 中修改 <code>Full name</code> 值，完成后点击 <em>SAVE CHANGES</em> 保存。</p><figure><img src="'+r+'" alt="添加全名" tabindex="0" loading="lazy"><figcaption>添加全名</figcaption></figure><h3 id="日期格式" tabindex="-1"><a class="header-anchor" href="#日期格式" aria-hidden="true">#</a> 日期格式</h3><p>在 <code>Preferences</code> 中修改 <code>Date/time format</code> 值为 <code>24</code> 小时制，完成后点击 <em>SAVE CHANGES</em> 保存。</p><figure><img src="'+d+'" alt="日期格式" tabindex="0" loading="lazy"><figcaption>日期格式</figcaption></figure><h3 id="勾选-number" tabindex="-1"><a class="header-anchor" href="#勾选-number" aria-hidden="true">#</a> 勾选 Number</h3><p>在 <code>Change Table Columns</code> 中勾选 <code>Number</code> 值，用于查看每个审核的编号，邮件里面显示的编号也是这个，完成后点击 <em>SAVE CHANGES</em> 保存。</p><figure><img src="'+t+'" alt="number" tabindex="0" loading="lazy"><figcaption>number</figcaption></figure><h3 id="添加邮箱" tabindex="-1"><a class="header-anchor" href="#添加邮箱" aria-hidden="true">#</a> 添加邮箱</h3><p>在 <code>Email Addresses</code> 中添加 <code>New email address</code> 值，完成后点击 <em>SAVE CHANGES</em> 保存。</p><p>登录邮箱验证是否成功接收邮件。</p><figure><img src="'+c+`" alt="添加邮箱" tabindex="0" loading="lazy"><figcaption>添加邮箱</figcaption></figure><h3 id="添加-ssh-key" tabindex="-1"><a class="header-anchor" href="#添加-ssh-key" aria-hidden="true">#</a> 添加 SSH Key</h3><p>在 <code>gerrit</code> 用户中生成 <code>ssh</code> 公私钥对：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ssh-keygen <span class="token parameter variable">-t</span> rsa
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看公钥，在 <code>SSH keys</code> 中添加 <code>New SSH key</code> 值，点击 <em>ADD NEW SSH KEY</em> 添加，完成后点击 <em>SAVE CHANGES</em> 保存。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /home/gerrit/.ssh/id_rsa.pub
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+o+`" alt="添加 SSH Key" tabindex="0" loading="lazy"><figcaption>添加 SSH Key</figcaption></figure><h2 id="管理员远程-gerrit" tabindex="-1"><a class="header-anchor" href="#管理员远程-gerrit" aria-hidden="true">#</a> 管理员远程 Gerrit</h2><p>以下命令用于连接远程 Gerrit 服务器：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ssh</span> <span class="token parameter variable">-p</span> <span class="token number">29418</span> gerrit@10.1.1.10 <span class="token parameter variable">-l</span> gerrit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加 <code>~/.ssh/confg</code> 配置文件，可以实现免密、更改名称的登陆方法，不论您的 <code>username</code>、<code>server address</code>、<code>port</code> 是什么，都可以不用输入，只需要输入一个别名即可登陆该服务器。</p><p>在管理员用户中配置 <code>./ssh/config</code> 文件：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Host gerrit
    HostName <span class="token string">&quot;10.1.1.10&quot;</span>
    User <span class="token string">&quot;gerrit&quot;</span>
    IdentityFile <span class="token string">&quot;~/.ssh/id_rsa&quot;</span>
    Port <span class="token number">29418</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Host</strong>：别名</li><li><strong>HostName</strong>：主机名</li><li><strong>User</strong>：用户名</li><li><strong>IdentityFile</strong>：私钥文件认证路径</li><li><strong>Port</strong>：端口</li></ul><p><code>User</code> 要和 Gerrit 服务器上注册的名称保持一致（不是 Full name），认证文件为 <code>User</code> 的私钥文件，端口为 Gerrit 服务的 SSH 端口号，这里是默认的 <code>29418</code>。</p><p>修改 <code>~/.ssh/confg</code> 文件权限：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> ~/.ssh/confg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>输入 <code>ssh gerrit -l gerrit</code> 命令测试 SSH 连接 Gerrit 服务器，显示以下信息说明连接成功：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ssh</span> gerrit <span class="token parameter variable">-l</span> gerrit

  ****    Welcome to Gerrit Code Review    ****

  Hi gerrit, you have successfully connected over SSH.

  Unfortunately, interactive shells are disabled.
  To clone a hosted Git repository, use:

  <span class="token function">git</span> clone ssh://gerrit@10.1.1.10:29418/REPOSITORY_NAME.git

Connection to <span class="token number">10.1</span>.1.10 closed.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加普通用户" tabindex="-1"><a class="header-anchor" href="#添加普通用户" aria-hidden="true">#</a> 添加普通用户</h2><p>用 <code>htpasswd</code> 命令在 <code>.password</code> 文件中添加普通用户 HTTP 认证：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>htpasswd <span class="token parameter variable">-m</span> review_site/etc/.password zhangsan
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>用命令创建普通用户：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> .ssh/zhangsan_id_rsa.pub <span class="token operator">|</span> <span class="token function">ssh</span> gerrit gerrit set-account --full-name zhangsan --add-email zhangsan@mail.example.com --add-ssh-key - zhangsan
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,39),u=[p];function m(g,h){return s(),a("div",null,u)}const f=e(l,[["render",m],["__file","basic_operation.html.vue"]]);export{f as default};
