import{_ as d}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as c,o,c as l,b as e,e as n,d as s,w as t,f as i}from"./app-_83A8qgi.js";const r={},p=i('<h2 id="描述" tabindex="-1"><a class="header-anchor" href="#描述" aria-hidden="true">#</a> 描述</h2><p><code>git fetch</code> 用于从另一个存储库或本地分支获取（下载）对象和引用。这些对象通常包括提交、树、blob 和标签。获取到的数据被保存在本地的 <code>.git/objects</code> 目录中，但并不会自动合并或修改您当前的工作。</p><p>被获取的引用名称，以及它们所指向的对象名称，被写到 <code>.git/FETCH_HEAD</code>。 这些信息可以被脚本或其他 <code>git</code> 命令使用。</p><p><code>git fetch</code> 不会改变您当前的工作目录或您所在的分支，它只是更新您的本地引用。</p>',4),u=e("code",null,"git fetch",-1),v=i(`<h2 id="选项" tabindex="-1"><a class="header-anchor" href="#选项" aria-hidden="true">#</a> 选项</h2><table><thead><tr><th style="text-align:center;">选项</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:center;"><code>--all</code></td><td style="text-align:left;">获取所有远程的最新信息</td></tr><tr><td style="text-align:center;"><code>--dry-run</code></td><td style="text-align:left;">只显示更新内容，而不做任何改变</td></tr><tr><td style="text-align:center;"><code>--porcelain</code></td><td style="text-align:left;">将输出结果以易于解析的格式打印到标准输出，供脚本使用</td></tr><tr><td style="text-align:center;"><code>-p, --prune</code></td><td style="text-align:left;">在获取之前，删除任何不再存在于远程的远程跟踪引用</td></tr><tr><td style="text-align:center;"><code>-P, --prune-tags</code></td><td style="text-align:left;">与 <code>-p</code> 选项一起使用，删除任何不再存在于远程的本地标签</td></tr><tr><td style="text-align:center;"><code>-n, --no-tags</code></td><td style="text-align:left;">禁用从远程仓库获取对象标签</td></tr><tr><td style="text-align:center;"><code>-t, --tags</code></td><td style="text-align:left;">从远程获取所有标签。将远程标签 <code>refs/tags/*</code> 获取为同名的本地标签</td></tr><tr><td style="text-align:center;"><code>--set-upstream</code></td><td style="text-align:left;">如果远程被成功获取，添加上游（跟踪）引用</td></tr><tr><td style="text-align:center;"><code>-v, --verbose</code></td><td style="text-align:left;">输出详细日志</td></tr></tbody></table><h2 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h2><h3 id="更新远程追踪的分支" tabindex="-1"><a class="header-anchor" href="#更新远程追踪的分支" aria-hidden="true">#</a> 更新远程追踪的分支</h3><p>例如：获取所有远程（<code>origin</code>）分支的最新提交到本地。<code>origin</code> 是远程仓库的默认名称。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch origin
<span class="token comment"># 或</span>
<span class="token function">git</span> fetch <span class="token parameter variable">--all</span>

From ssh://10.1.1.10/tests/test_demo
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      dev        -<span class="token operator">&gt;</span> origin/dev
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      <span class="token builtin class-name">test</span>       -<span class="token operator">&gt;</span> origin/test
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.0     -<span class="token operator">&gt;</span> v1.0.0
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.1     -<span class="token operator">&gt;</span> v1.0.1
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.0     -<span class="token operator">&gt;</span> v1.0.0
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.1     -<span class="token operator">&gt;</span> v1.0.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如：获取指定远程 <code>dev</code> 分支的最新提交到本地 <code>dev</code> 分支。只下载 <code>origin</code> 仓库中 <code>dev</code> 分支的最新提交。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> checkout dev
<span class="token function">git</span> fetch origin dev

From ssh://10.1.1.10/tests/test_demo
 * branch            dev        -<span class="token operator">&gt;</span> FETCH_HEAD
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      dev        -<span class="token operator">&gt;</span> origin/dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如：获取指定远程 <code>dev</code> 分支的最新提交到本地 <code>main</code> 分支。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch origin dev:main

From ssh://10.1.1.10/tests/test_demo
 * branch            dev        -<span class="token operator">&gt;</span> FETCH_HEAD
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      dev        -<span class="token operator">&gt;</span> origin/dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果不指定远程 <code>dev</code> 分支，只指定本地 <code>test</code> 分支且本地没有 <code>test</code> 分支，将创建本地分支。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch origin :test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="只显示更新内容" tabindex="-1"><a class="header-anchor" href="#只显示更新内容" aria-hidden="true">#</a> 只显示更新内容</h3><p>例如：使用 <code>--dry-run</code> 选项，只显示更新内容，而不做任何改变。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch --dry-run origin

From ssh://10.1.1.10/tests/test_demo
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      dev        -<span class="token operator">&gt;</span> origin/dev
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      <span class="token builtin class-name">test</span>       -<span class="token operator">&gt;</span> origin/test
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.0     -<span class="token operator">&gt;</span> v1.0.0
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.1     -<span class="token operator">&gt;</span> v1.0.1
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.0     -<span class="token operator">&gt;</span> v1.0.0
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.1     -<span class="token operator">&gt;</span> v1.0.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="简易输出" tabindex="-1"><a class="header-anchor" href="#简易输出" aria-hidden="true">#</a> 简易输出</h3><p>例如：使用 <code>--porcelain</code> 选项，将 <code>git fetch</code> 输出结果以易于解析的格式打印到标准输出，供脚本使用。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch --dry-run <span class="token parameter variable">--porcelain</span>

  a6c6aa91ec80e18add652523bf225760270a18ff a159da180cd0ea822a03e81c29492a45e9828c53 refs/remotes/origin/main
* 0000000000000000000000000000000000000000 4637c7d9d5ed2aa5695366d1daa011bd57fc4fe9 refs/tags/v1.0.0
* 0000000000000000000000000000000000000000 adbc1dedd67dce934b0e77947c4df6936be318e3 refs/tags/v1.0.1
* 0000000000000000000000000000000000000000 4637c7d9d5ed2aa5695366d1daa011bd57fc4fe9 refs/tags/v1.0.0
* 0000000000000000000000000000000000000000 adbc1dedd67dce934b0e77947c4df6936be318e3 refs/tags/v1.0.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除不存在远程分支跟踪引用" tabindex="-1"><a class="header-anchor" href="#删除不存在远程分支跟踪引用" aria-hidden="true">#</a> 删除不存在远程分支跟踪引用</h3><p>使用 <code>-p</code> 或 <code>--prune</code> 选项，在获取之前，删除任何不再存在于远程的远程跟踪引用。</p><p>例如：远程没有 <code>test01</code> 分支，删除本地的 <code>remotes/origin/test01</code> 远程跟踪引用。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch <span class="token parameter variable">-p</span>

From ssh://10.1.1.10/tests/test_demo
 - <span class="token punctuation">[</span>deleted<span class="token punctuation">]</span>         <span class="token punctuation">(</span>none<span class="token punctuation">)</span>     -<span class="token operator">&gt;</span> origin/test01
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除不再存在远程的本地标签" tabindex="-1"><a class="header-anchor" href="#删除不再存在远程的本地标签" aria-hidden="true">#</a> 删除不再存在远程的本地标签</h3><p>使用 <code>-P</code> 或 <code>--prune-tags</code> 选项与 <code>-p</code> 选项一起使用，在获取之前，将删除任何不再存在于远程的本地标签。</p><p>例如：远程没有 <code>v1.0.1</code> 和 <code>v1.1.0</code> 标签，删除本地的 <code>v1.0.1</code> 和 <code>v1.1.0</code> 标签。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch <span class="token parameter variable">-p</span> <span class="token parameter variable">-P</span>

From ssh://10.1.1.10/tests/test_demo
 - <span class="token punctuation">[</span>deleted<span class="token punctuation">]</span>         <span class="token punctuation">(</span>none<span class="token punctuation">)</span>     -<span class="token operator">&gt;</span> v1.0.1
 - <span class="token punctuation">[</span>deleted<span class="token punctuation">]</span>         <span class="token punctuation">(</span>none<span class="token punctuation">)</span>     -<span class="token operator">&gt;</span> v1.1.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="禁用从远程仓库获取对象标签" tabindex="-1"><a class="header-anchor" href="#禁用从远程仓库获取对象标签" aria-hidden="true">#</a> 禁用从远程仓库获取对象标签</h3><p>默认情况下，指向从远程仓库下载的对象的标签会被获取并存储到本地。</p><p>例如：使用 <code>-n</code> 或 <code>--no-tags</code> 选项，禁用从远程仓库获取对象标签。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch <span class="token parameter variable">-n</span>

From ssh://10.1.1.10/tests/test_demo
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      dev        -<span class="token operator">&gt;</span> origin/dev
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      <span class="token builtin class-name">test</span>       -<span class="token operator">&gt;</span> origin/test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="添加上游引用" tabindex="-1"><a class="header-anchor" href="#添加上游引用" aria-hidden="true">#</a> 添加上游引用</h3><p>例如：使用 <code>--set-upstream</code> 选项，如果远程被成功获取，添加上游（跟踪）引用。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch --set-upstream
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="输出详细日志" tabindex="-1"><a class="header-anchor" href="#输出详细日志" aria-hidden="true">#</a> 输出详细日志</h3><p>例如：使用 <code>-v</code> 或 <code>--verbose</code> 选项，输出详细日志。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch <span class="token parameter variable">-v</span>

From ssh://10.1.1.10/tests/test_demo
   a6c6aa9<span class="token punctuation">..</span>a159da1  main       -<span class="token operator">&gt;</span> origin/main
 <span class="token operator">=</span> <span class="token punctuation">[</span>up to date<span class="token punctuation">]</span>      dev        -<span class="token operator">&gt;</span> origin/dev
 <span class="token operator">=</span> <span class="token punctuation">[</span>up to date<span class="token punctuation">]</span>      <span class="token builtin class-name">test</span>       -<span class="token operator">&gt;</span> origin/test
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.0     -<span class="token operator">&gt;</span> v1.0.0
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.1     -<span class="token operator">&gt;</span> v1.0.1
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.0     -<span class="token operator">&gt;</span> v1.0.0
 * <span class="token punctuation">[</span>new tag<span class="token punctuation">]</span>         v1.0.1     -<span class="token operator">&gt;</span> v1.0.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看获取到的提交" tabindex="-1"><a class="header-anchor" href="#查看获取到的提交" aria-hidden="true">#</a> 查看获取到的提交</h3>`,37),g=e("code",null,"FETCH_HEAD",-1),h=i(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> log FETCH_HEAD
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>或者，查看特定远程跟踪分支的提交：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> log origin/dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="与远程仓库同步" tabindex="-1"><a class="header-anchor" href="#与远程仓库同步" aria-hidden="true">#</a> 与远程仓库同步</h3>`,4),b=e("code",null,"git fetch",-1),m=i(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch origin
<span class="token function">git</span> merge origin/main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>或者，使用 <code>rebase</code>：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> fetch origin
<span class="token function">git</span> rebase origin/main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,3);function k(f,_){const a=c("RouterLink");return o(),l("div",null,[p,e("p",null,[n("要将获取到的更改合并到您的当前分支，您需要使用 "),s(a,{to:"/commands/git/git_merge.html"},{default:t(()=>[n("git merge")]),_:1}),n(" 或 "),s(a,{to:"/commands/git/git_rebase.html"},{default:t(()=>[n("git rebase")]),_:1}),n("。")]),e("p",null,[n("与 "),s(a,{to:"/commands/git/git_pull.html"},{default:t(()=>[n("git pull")]),_:1}),n(" 相比，"),u,n(" 更安全，因为它不会直接修改您的工作。您可以首先查看获取到的更改，然后再决定是否合并它们。")]),v,e("p",null,[n("使用 "),s(a,{to:"/commands/git/git_log.html"},{default:t(()=>[n("git log")]),_:1}),n(" 命令可以查看 "),g,n(" 中包含的提交。")]),h,e("p",null,[b,n(" 通常与 "),s(a,{to:"/commands/git/git_merge.html"},{default:t(()=>[n("git merge")]),_:1}),n(" 或 "),s(a,{to:"/commands/git/git_rebase.html"},{default:t(()=>[n("git rebase")]),_:1}),n(" 结合使用，以便将远程仓库的更新合并或重基于您的当前分支。例如：")]),m])}const w=d(r,[["render",k],["__file","git_fetch.html.vue"]]);export{w as default};
